# Slack-Files-Download-Delete
Based off the code by [CCDKP](https://github.com/CCDKP)

This can list, download, and optionally delete all slack files associated with channels or usernames
that are greater than `X` days old and that have a download url associated with them.

In addition, this application saves three metadata files, which provide all the information about the files scanned,
including original uploader, time, comments, reactions, and title.

Files are saved with the following naming convention:
`<Uploading Username>_<Timestamp>_<Unique file id>_<Sanitized filename>`

# Setup
This requires a [Slack Legacy Token](https://api.slack.com/custom-integrations/legacy-tokens). The token needs to be
stored in the env var `SDDP_SLACK_TOKEN`.

Unless the token is generated by an Admin account, you will only be able to delete files uploaded by the token owner.

There are a few options that can be configured at the top of the program

# Usage
```
(venv) PS C:\Users\burke\src\Slack-Files-Download-Delete> python .\slack_download_delete.py --help
usage: slack_download_delete.py [-h] [--download DOWNLOAD] [--delete]
                                [--min-age MIN_AGE] [--user USER]
                                [--chan CHAN] [--debug]

A slack file downloader/deleter for you poor folks out there without thicc
wads of VC money to drop on a slack sub.

optional arguments:
  -h, --help            show this help message and exit
  --download DOWNLOAD, -d DOWNLOAD
                        download files to the specified directory.
  --delete, -x          Delete files too. From the server. To save space.
  --min-age MIN_AGE, -m MIN_AGE
                        Number of days in the past to operate on.
  --user USER, -u USER  Specify a username (not nick). Only operate on their
                        files.
  --chan CHAN, -c CHAN  Specify a channel name. Only operate on it's files.
  --debug, -D           Debug mode (print a bunch of shit idk).

You need to set the env var SFDD_SLACK_TOKEN to a legacy token you generate.
```